{% extends "feed/base.html" %}

{% block title %}My Posts{% endblock %}

{% block content %}
<style>
:root {
    --pinterest-red: #E60023;
    --soft-gold: #F5D76E;
    --gold-glow: rgba(245,215,110,0.75);
}

/* ===== POSTS CONTAINER ===== */
.posts-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 0;
}

/* ===== POST CARD ===== */
.post-card {
    width: 90%;
    max-width: 700px;
    background: #ffffff;
    border-radius: 20px;
    border: 2px solid var(--pinterest-red);
    box-shadow:
        0 0 18px rgba(230,0,35,0.25),
        0 0 32px rgba(245,215,110,0.3);
    margin-bottom: 30px;
    padding: 20px;
    transition: all 0.35s ease;
}

.post-card:hover {
    transform: translateY(-6px) scale(1.01);
    box-shadow:
        0 0 28px var(--soft-gold),
        0 0 50px rgba(230,0,35,0.6);
}

/* ===== POST IMAGE ===== */
.post-card img {
    width: 100%;
    border-radius: 14px;
    object-fit: cover;
    margin-bottom: 15px;
    box-shadow: 0 0 12px rgba(245,215,110,0.3);
}

/* ===== POST TITLE ===== */
.post-title {
    font-weight: 900;
    display: flex;
    justify-content: space-between;
    font-size: 1.2rem;
    color: var(--pinterest-red);

    /* ALWAYS GLITTER */
    text-shadow:
        0 0 6px var(--soft-gold),
        0 0 14px var(--gold-glow),
        0 0 26px rgba(245,215,110,0.6);
    animation: titleGlow 3s infinite alternate;
}

.post-title span:last-child {
    font-weight: 600;
    color: var(--pinterest-red);
}

/* ===== POST DESCRIPTION ===== */
.post-desc {
    margin-top: 10px;
    font-size: 1rem;
    color: #555;
}

/* ===== POST DATE ===== */
.post-date {
    font-size: 0.85rem;
    color: #888;
    text-align: right;
    margin-top: 10px;
}

/* ===== GLITTER ANIMATION ===== */
@keyframes titleGlow {
    from {
        text-shadow:
            0 0 6px rgba(245,215,110,0.6),
            0 0 14px rgba(245,215,110,0.5);
    }
    to {
        text-shadow:
            0 0 14px rgba(245,215,110,0.85),
            0 0 30px rgba(245,215,110,0.75);
    }
}
</style>


<div class="posts-container">
    {% if posts %}
        {% for post in posts %}
            <div class="post-card">
                <div class="post-title">
                    <span>{{ post.title }}</span>
                    <span>@{{ post.user.username }}</span>
                </div>
                {% if post.post_image %}
                    <img src="{{ post.post_image.url }}" alt="Post image">
                {% endif %}
                <div class="post-desc">{{ post.desc }}</div>
                <div class="post-date">Posted on: {{ post.created_at|date:"F d, Y H:i" }}</div>
            </div>
        {% endfor %}
    {% else %}
        <p>No posts yet. <a href="{% url 'create' %}">Create your first post</a>.</p>
    {% endif %}
</div>

{% endblock %}
